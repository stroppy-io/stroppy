# Protocol Documentation
<a name="top"></a>

## Table of Contents

- [proto/stroppy/cloud.proto](#proto_stroppy_cloud-proto)
    - [StroppyRun](#stroppy-StroppyRun)
    - [StroppyStepRun](#stroppy-StroppyStepRun)
  
    - [Status](#stroppy-Status)
  
    - [CloudStatusService](#stroppy-CloudStatusService)
  
- [proto/stroppy/common.proto](#proto_stroppy_common-proto)
    - [DateTime](#stroppy-DateTime)
    - [Decimal](#stroppy-Decimal)
    - [Generation](#stroppy-Generation)
    - [Generation.Alphabet](#stroppy-Generation-Alphabet)
    - [Generation.Distribution](#stroppy-Generation-Distribution)
    - [Generation.Range](#stroppy-Generation-Range)
    - [Generation.Range.AnyString](#stroppy-Generation-Range-AnyString)
    - [Generation.Range.Bool](#stroppy-Generation-Range-Bool)
    - [Generation.Range.DateTime](#stroppy-Generation-Range-DateTime)
    - [Generation.Range.DateTime.TimestampPb](#stroppy-Generation-Range-DateTime-TimestampPb)
    - [Generation.Range.DateTime.TimestampUnix](#stroppy-Generation-Range-DateTime-TimestampUnix)
    - [Generation.Range.DecimalRange](#stroppy-Generation-Range-DecimalRange)
    - [Generation.Range.Double](#stroppy-Generation-Range-Double)
    - [Generation.Range.Float](#stroppy-Generation-Range-Float)
    - [Generation.Range.Int32](#stroppy-Generation-Range-Int32)
    - [Generation.Range.Int64](#stroppy-Generation-Range-Int64)
    - [Generation.Range.String](#stroppy-Generation-Range-String)
    - [Generation.Range.UInt32](#stroppy-Generation-Range-UInt32)
    - [Generation.Range.UInt64](#stroppy-Generation-Range-UInt64)
    - [Generation.Rule](#stroppy-Generation-Rule)
    - [OtlpExport](#stroppy-OtlpExport)
    - [Ulid](#stroppy-Ulid)
    - [Uuid](#stroppy-Uuid)
    - [Value](#stroppy-Value)
    - [Value.List](#stroppy-Value-List)
    - [Value.Struct](#stroppy-Value-Struct)
  
    - [Generation.Distribution.DistributionType](#stroppy-Generation-Distribution-DistributionType)
    - [Value.NullValue](#stroppy-Value-NullValue)
  
- [proto/stroppy/config.proto](#proto_stroppy_config-proto)
    - [CloudConfig](#stroppy-CloudConfig)
    - [ConfigFile](#stroppy-ConfigFile)
    - [DriverConfig](#stroppy-DriverConfig)
    - [ExecutorConfig](#stroppy-ExecutorConfig)
    - [ExporterConfig](#stroppy-ExporterConfig)
    - [GlobalConfig](#stroppy-GlobalConfig)
    - [GlobalConfig.MetadataEntry](#stroppy-GlobalConfig-MetadataEntry)
    - [LoggerConfig](#stroppy-LoggerConfig)
    - [SideCarConfig](#stroppy-SideCarConfig)
    - [Step](#stroppy-Step)
  
    - [DriverConfig.DriverType](#stroppy-DriverConfig-DriverType)
    - [LoggerConfig.LogLevel](#stroppy-LoggerConfig-LogLevel)
    - [LoggerConfig.LogMode](#stroppy-LoggerConfig-LogMode)
  
- [proto/stroppy/descriptor.proto](#proto_stroppy_descriptor-proto)
    - [BenchmarkDescriptor](#stroppy-BenchmarkDescriptor)
    - [ColumnDescriptor](#stroppy-ColumnDescriptor)
    - [IndexDescriptor](#stroppy-IndexDescriptor)
    - [InsertDescriptor](#stroppy-InsertDescriptor)
    - [QueryDescriptor](#stroppy-QueryDescriptor)
    - [QueryParamDescriptor](#stroppy-QueryParamDescriptor)
    - [QueryParamGroup](#stroppy-QueryParamGroup)
    - [TableDescriptor](#stroppy-TableDescriptor)
    - [TransactionDescriptor](#stroppy-TransactionDescriptor)
    - [UnitDescriptor](#stroppy-UnitDescriptor)
    - [WorkloadDescriptor](#stroppy-WorkloadDescriptor)
    - [WorkloadUnitDescriptor](#stroppy-WorkloadUnitDescriptor)
  
    - [InsertMethod](#stroppy-InsertMethod)
    - [TxIsolationLevel](#stroppy-TxIsolationLevel)
  
- [proto/stroppy/k6.proto](#proto_stroppy_k6-proto)
    - [ConstantArrivalRate](#stroppy-ConstantArrivalRate)
    - [ConstantVUs](#stroppy-ConstantVUs)
    - [K6Options](#stroppy-K6Options)
    - [K6Scenario](#stroppy-K6Scenario)
    - [PerVuIterations](#stroppy-PerVuIterations)
    - [RampingArrivalRate](#stroppy-RampingArrivalRate)
    - [RampingArrivalRate.RateStage](#stroppy-RampingArrivalRate-RateStage)
    - [RampingVUs](#stroppy-RampingVUs)
    - [RampingVUs.VUStage](#stroppy-RampingVUs-VUStage)
    - [SharedIterations](#stroppy-SharedIterations)
  
- [proto/stroppy/runtime.proto](#proto_stroppy_runtime-proto)
    - [DriverQuery](#stroppy-DriverQuery)
    - [DriverQueryStat](#stroppy-DriverQueryStat)
    - [DriverTransaction](#stroppy-DriverTransaction)
    - [DriverTransactionStat](#stroppy-DriverTransactionStat)
    - [StepContext](#stroppy-StepContext)
    - [UnitContext](#stroppy-UnitContext)
  
- [proto/stroppy/sidecar.proto](#proto_stroppy_sidecar-proto)
    - [SidecarService](#stroppy-SidecarService)
  
- [Scalar Value Types](#scalar-value-types)



<a name="proto_stroppy_cloud-proto"></a>
<p align="right"><a href="#top">Top</a></p>

## proto/stroppy/cloud.proto



<a name="stroppy-StroppyRun"></a>

### StroppyRun
StroppyRun represents a benchmark run on the stroppy cli.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| id | [Ulid](#stroppy-Ulid) |  | Unique identifier for the run generated by stroppy-cli |
| status | [Status](#stroppy-Status) |  | Status of the run |
| config | [ConfigFile](#stroppy-ConfigFile) |  | Configuration for the benchmark run |
| cmd | [string](#string) |  | Command used to run the benchmark |






<a name="stroppy-StroppyStepRun"></a>

### StroppyStepRun



| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| id | [Ulid](#stroppy-Ulid) |  | Unique identifier for the step run generated by stroppy-cli |
| stroppy_run_id | [Ulid](#stroppy-Ulid) |  | Unique identifier for the parent stroppy run generated by stroppy-cli |
| context | [StepContext](#stroppy-StepContext) |  | Context for the step run |
| status | [Status](#stroppy-Status) |  | Status of the step run |





 


<a name="stroppy-Status"></a>

### Status
Status represents the status of a stroppy run or step run.

| Name | Number | Description |
| ---- | ------ | ----------- |
| STATUS_IDLE | 0 | Run or step is idle |
| STATUS_RUNNING | 1 | Run or step is running |
| STATUS_COMPLETED | 2 | Run or step has completed successfully |
| STATUS_FAILED | 3 | Run or step has failed |
| STATUS_CANCELLED | 4 | Run or step has been cancelled |


 

 


<a name="stroppy-CloudStatusService"></a>

### CloudStatusService
CloudStatusService is a service for notifying the cloud status of runs and
steps.

| Method Name | Request Type | Response Type | Description |
| ----------- | ------------ | ------------- | ------------|
| NotifyRun | [StroppyRun](#stroppy-StroppyRun) | [.google.protobuf.Empty](#google-protobuf-Empty) | Notifies the cloud status of a benchmark run |
| NotifyStep | [StroppyStepRun](#stroppy-StroppyStepRun) | [.google.protobuf.Empty](#google-protobuf-Empty) | Notifies the cloud status of a benchmark step |

 



<a name="proto_stroppy_common-proto"></a>
<p align="right"><a href="#top">Top</a></p>

## proto/stroppy/common.proto



<a name="stroppy-DateTime"></a>

### DateTime
DateTime represents a point in time, independent of any time zone or
calendar.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| value | [google.protobuf.Timestamp](#google-protobuf-Timestamp) |  | Timestamp in UTC |






<a name="stroppy-Decimal"></a>

### Decimal
Decimal represents an arbitrary-precision decimal number.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| value | [string](#string) |  | String representation of the decimal number |






<a name="stroppy-Generation"></a>

### Generation
Generation contains configuration for generating test data.
It provides rules and constraints for generating various types of data.

UTF-8 character ranges for different languages
Example: {&#34;en&#34;: {{65, 90}, {97, 122}}}






<a name="stroppy-Generation-Alphabet"></a>

### Generation.Alphabet
Alphabet defines character ranges for string generation.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| ranges | [Generation.Range.UInt32](#stroppy-Generation-Range-UInt32) | repeated | List of character ranges for this alphabet |






<a name="stroppy-Generation-Distribution"></a>

### Generation.Distribution
Distribution defines the statistical distribution for value generation.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| type | [Generation.Distribution.DistributionType](#stroppy-Generation-Distribution-DistributionType) |  | Type of distribution to use |
| screw | [double](#double) |  | Distribution parameter (e.g., standard deviation for normal distribution) |






<a name="stroppy-Generation-Range"></a>

### Generation.Range
Range defines value constraints for generation.






<a name="stroppy-Generation-Range-AnyString"></a>

### Generation.Range.AnyString
Range for string values that can be parsed into other types


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| min | [string](#string) |  | Minimum value (inclusive) |
| max | [string](#string) |  | Maximum value (inclusive) |






<a name="stroppy-Generation-Range-Bool"></a>

### Generation.Range.Bool



| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| ratio | [float](#float) |  |  |






<a name="stroppy-Generation-Range-DateTime"></a>

### Generation.Range.DateTime
Range for date/time values


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| string | [Generation.Range.AnyString](#stroppy-Generation-Range-AnyString) |  | String-based range (ISO 8601 format) |
| timestamp_pb | [Generation.Range.DateTime.TimestampPb](#stroppy-Generation-Range-DateTime-TimestampPb) |  | Protocol Buffers timestamp range |
| timestamp | [Generation.Range.DateTime.TimestampUnix](#stroppy-Generation-Range-DateTime-TimestampUnix) |  | Unix timestamp range |






<a name="stroppy-Generation-Range-DateTime-TimestampPb"></a>

### Generation.Range.DateTime.TimestampPb
Protocol Buffers timestamp range


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| min | [google.protobuf.Timestamp](#google-protobuf-Timestamp) |  | Minimum timestamp (inclusive) |
| max | [google.protobuf.Timestamp](#google-protobuf-Timestamp) |  | Maximum timestamp (inclusive) |






<a name="stroppy-Generation-Range-DateTime-TimestampUnix"></a>

### Generation.Range.DateTime.TimestampUnix
Unix timestamp range


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| min | [uint32](#uint32) |  | Minimum Unix timestamp (inclusive) |
| max | [uint32](#uint32) |  | Maximum Unix timestamp (inclusive) |






<a name="stroppy-Generation-Range-DecimalRange"></a>

### Generation.Range.DecimalRange
Range for decimal numbers


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| float | [Generation.Range.Float](#stroppy-Generation-Range-Float) |  | Float-based range |
| double | [Generation.Range.Double](#stroppy-Generation-Range-Double) |  | Double-based range |
| string | [Generation.Range.AnyString](#stroppy-Generation-Range-AnyString) |  | String-bsed range (supports scientific notation) |






<a name="stroppy-Generation-Range-Double"></a>

### Generation.Range.Double
Range for 64-bit floating point numbers


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| min | [double](#double) | optional | Minimum value (inclusive) |
| max | [double](#double) |  | Maximum value (inclusive) |






<a name="stroppy-Generation-Range-Float"></a>

### Generation.Range.Float
Range for 32-bit floating point numbers


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| min | [float](#float) | optional | Minimum value (inclusive) |
| max | [float](#float) |  | Maximum value (inclusive) |






<a name="stroppy-Generation-Range-Int32"></a>

### Generation.Range.Int32
Range for 32-bit signed integers


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| min | [int32](#int32) | optional | Minimum value (inclusive) |
| max | [int32](#int32) |  | Maximum value (inclusive) |






<a name="stroppy-Generation-Range-Int64"></a>

### Generation.Range.Int64
Range for 64-bit signed integers


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| min | [int64](#int64) | optional | Minimum value (inclusive) |
| max | [int64](#int64) |  | Maximum value (inclusive) |






<a name="stroppy-Generation-Range-String"></a>

### Generation.Range.String



| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| alphabet | [Generation.Alphabet](#stroppy-Generation-Alphabet) | optional | Character set to use for generation |
| min_len | [uint64](#uint64) | optional |  |
| max_len | [uint64](#uint64) |  |  |






<a name="stroppy-Generation-Range-UInt32"></a>

### Generation.Range.UInt32
Range for 32-bit unsigned integers


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| min | [uint32](#uint32) | optional | Minimum value (inclusive) |
| max | [uint32](#uint32) |  | Maximum value (inclusive) |






<a name="stroppy-Generation-Range-UInt64"></a>

### Generation.Range.UInt64
Range for 64-bit unsigned integers


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| min | [uint64](#uint64) | optional | Minimum value (inclusive) |
| max | [uint64](#uint64) |  | Maximum value (inclusive) |






<a name="stroppy-Generation-Rule"></a>

### Generation.Rule
Rule defines generation rules for a specific data type.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| int32_range | [Generation.Range.Int32](#stroppy-Generation-Range-Int32) |  | Signed 32‑bit integer range (inclusive). Example: 1..100 for IDs. |
| int64_range | [Generation.Range.Int64](#stroppy-Generation-Range-Int64) |  | Signed 64‑bit integer range for large counters or timestamps. |
| uint32_range | [Generation.Range.UInt32](#stroppy-Generation-Range-UInt32) |  | Unsigned 32‑bit integer range; use for sizes/indices. |
| uint64_range | [Generation.Range.UInt64](#stroppy-Generation-Range-UInt64) |  | Unsigned 64‑bit integer range; use for large sizes. |
| float_range | [Generation.Range.Float](#stroppy-Generation-Range-Float) |  | 32‑bit float bounds; beware precision for currency. |
| double_range | [Generation.Range.Double](#stroppy-Generation-Range-Double) |  | 64‑bit float bounds for high‑precision numeric data. |
| decimal_range | [Generation.Range.DecimalRange](#stroppy-Generation-Range-DecimalRange) |  | Arbitrary‑precision decimal bounds for money/ratios. |
| string_range | [Generation.Range.String](#stroppy-Generation-Range-String) |  | String constraints (length, alphabet). |
| bool_range | [Generation.Range.Bool](#stroppy-Generation-Range-Bool) |  | Boolean constraints (e.g., force true/false). |
| datetime_range | [Generation.Range.DateTime](#stroppy-Generation-Range-DateTime) |  | Date/time window (e.g., not before/after). |
| int32_const | [int32](#int32) |  | Fixed 32‑bit integer value. |
| int64_const | [int64](#int64) |  | Fixed 64‑bit integer value. |
| uint32_const | [uint32](#uint32) |  | Fixed unsigned 32‑bit integer value. |
| uint64_const | [uint64](#uint64) |  | Fixed unsigned 64‑bit integer value. |
| float_const | [float](#float) |  | Fixed 32‑bit float value. |
| double_const | [double](#double) |  | Fixed 64‑bit float value. |
| decimal_const | [Decimal](#stroppy-Decimal) |  | Fixed decimal value. |
| string_const | [string](#string) |  | Fixed string value. |
| bool_const | [bool](#bool) |  | Fixed boolean value. |
| datetime_const | [DateTime](#stroppy-DateTime) |  | Fixed date/time value. |
| distribution | [Generation.Distribution](#stroppy-Generation-Distribution) | optional | Shape of randomness; Normal by default |
| null_percentage | [uint32](#uint32) | optional | Percentage of nulls to inject [0..100]; 0 by default |
| unique | [bool](#bool) | optional | Enforce uniqueness across generated values; Linear sequence for ranges |






<a name="stroppy-OtlpExport"></a>

### OtlpExport
OtlpExport contains configuration for exporting metrics via OpenTelemetry
Protocol (OTLP). It specifies the endpoint and metrics prefix for telemetry
data export.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| otlp_grpc_endpoint | [string](#string) | optional | gRPC endpoint for OpenTelemetry collector |
| otlp_http_endpoint | [string](#string) | optional | HTTP endpoint for the OpenTelemetry collector |
| otlp_http_exporter_url_path | [string](#string) | optional | HTTP exporter path. Default is &#39;/v1/metrics&#39; |
| otlp_endpoint_insecure | [bool](#bool) | optional | Disable transport security for the exporter |
| otlp_headers | [string](#string) | optional | Headers for otlp requests e.g. Authorization=... |
| otlp_metrics_prefix | [string](#string) | optional | Prefix to be added to all exported metrics |






<a name="stroppy-Ulid"></a>

### Ulid
Ulid represents a universally universally unique lexicographically sortable identifier (ULID).


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| value | [string](#string) |  | String representation of ULID (e.g., &#34;01ANQWJZ000000000000000000&#34;) |






<a name="stroppy-Uuid"></a>

### Uuid
Uuid represents a universally unique identifier (UUID).


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| value | [string](#string) |  | String representation of UUID (e.g., &#34;123e4567-e89b-12d3-a456-426614174000&#34;) |






<a name="stroppy-Value"></a>

### Value
Value is a variant type that can represent different types of values.
It&#39;s used to represent values that can be of multiple types in a type-safe
way.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| null | [Value.NullValue](#stroppy-Value-NullValue) |  | Null value |
| int32 | [int32](#int32) |  | 32-bit signed integer |
| uint32 | [uint32](#uint32) |  | 32-bit unsigned integer |
| int64 | [int64](#int64) |  | 64-bit signed integer |
| uint64 | [uint64](#uint64) |  | 64-bit unsigned integer |
| float | [float](#float) |  | 32-bit floating point number |
| double | [double](#double) |  | 64-bit floating point number |
| string | [string](#string) |  | UTF-8 encoded string |
| bool | [bool](#bool) |  | Boolean value |
| decimal | [Decimal](#stroppy-Decimal) |  | Arbitrary-precision decimal |
| uuid | [Uuid](#stroppy-Uuid) |  | Universally unique identifier |
| datetime | [DateTime](#stroppy-DateTime) |  | Date and time |
| struct | [Value.Struct](#stroppy-Value-Struct) |  | Nested structure |
| list | [Value.List](#stroppy-Value-List) |  | List of values |
| key | [string](#string) |  | Field name (used in structs) |






<a name="stroppy-Value-List"></a>

### Value.List



| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| values | [Value](#stroppy-Value) | repeated | List of values |






<a name="stroppy-Value-Struct"></a>

### Value.Struct



| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| fields | [Value](#stroppy-Value) | repeated | Map of field names to values |





 


<a name="stroppy-Generation-Distribution-DistributionType"></a>

### Generation.Distribution.DistributionType


| Name | Number | Description |
| ---- | ------ | ----------- |
| NORMAL | 0 | Normal (Gaussian) distribution |
| UNIFORM | 1 | Uniform distribution |
| ZIPF | 2 | Zipfian distribution |



<a name="stroppy-Value-NullValue"></a>

### Value.NullValue


| Name | Number | Description |
| ---- | ------ | ----------- |
| NULL_VALUE | 0 | Null value |


 

 

 



<a name="proto_stroppy_config-proto"></a>
<p align="right"><a href="#top">Top</a></p>

## proto/stroppy/config.proto



<a name="stroppy-CloudConfig"></a>

### CloudConfig
CloudConfig contains configuration for stroppy cloud backend.






<a name="stroppy-ConfigFile"></a>

### ConfigFile
ConfigFile contains the complete configuration for a benchmark run in file.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| global | [GlobalConfig](#stroppy-GlobalConfig) |  | Global configuration |
| exporters | [ExporterConfig](#stroppy-ExporterConfig) | repeated | Exporters configuration |
| executors | [ExecutorConfig](#stroppy-ExecutorConfig) | repeated | Executors configuration |
| steps | [Step](#stroppy-Step) | repeated | Step to executor mapping configuration |
| side_cars | [SideCarConfig](#stroppy-SideCarConfig) | repeated | Plugins configuration |
| benchmark | [BenchmarkDescriptor](#stroppy-BenchmarkDescriptor) |  | BenchmarkDescriptor defines a complete benchmark consisting of multiple steps. |






<a name="stroppy-DriverConfig"></a>

### DriverConfig
DriverConfig contains configuration for connecting to a database driver.
It includes the driver plugin path, connection URL, and database-specific settings.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| url | [string](#string) |  | Database connection URL |
| db_specific | [Value.Struct](#stroppy-Value-Struct) | optional | Database-specific configuration options |
| driver_type | [DriverConfig.DriverType](#stroppy-DriverConfig-DriverType) |  | Name/Type of chosen driver |






<a name="stroppy-ExecutorConfig"></a>

### ExecutorConfig
ExecutorConfig contains configuration for an executor.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the executor |
| k6 | [K6Options](#stroppy-K6Options) |  | Configuration for the executor |






<a name="stroppy-ExporterConfig"></a>

### ExporterConfig
OtlpExporterConfig contains named configuration for an OTLP exporter.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the OTLP exporter |
| otlp_export | [OtlpExport](#stroppy-OtlpExport) |  | Configuration for the OTLP exporter |






<a name="stroppy-GlobalConfig"></a>

### GlobalConfig



| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| version | [string](#string) |  | Version of the configuration format e.g. proto files version. This is used for backward compatibility of configs and will be set automatically from binary run if not present. |
| run_id | [string](#string) |  | Run identifier for reproducible test runs or debugging If set to &#34;generate()&#34; stroppy eval ulid for run_id |
| seed | [uint64](#uint64) |  | Random seed for reproducible test runs |
| metadata | [GlobalConfig.MetadataEntry](#stroppy-GlobalConfig-MetadataEntry) | repeated | Arbitrary metadata, may be passed to result labels and json output |
| driver | [DriverConfig](#stroppy-DriverConfig) |  | Database driver configuration |
| logger | [LoggerConfig](#stroppy-LoggerConfig) |  | Logging configuration |






<a name="stroppy-GlobalConfig-MetadataEntry"></a>

### GlobalConfig.MetadataEntry



| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| key | [string](#string) |  |  |
| value | [string](#string) |  |  |






<a name="stroppy-LoggerConfig"></a>

### LoggerConfig
LoggerConfig contains configuration for the logging system.
It controls log levels and output formatting.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| log_level | [LoggerConfig.LogLevel](#stroppy-LoggerConfig-LogLevel) |  | Minimum log level to output |
| log_mode | [LoggerConfig.LogMode](#stroppy-LoggerConfig-LogMode) |  | Logging mode (development or production) |






<a name="stroppy-SideCarConfig"></a>

### SideCarConfig
SideCar contains configuration for plugins.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| url | [string](#string) |  | Url to connect the plugin instance |
| settings | [Value.Struct](#stroppy-Value-Struct) | optional | Additional plugin settings |






<a name="stroppy-Step"></a>

### Step
StepExecutorMappingConfig contains configuration for mapping steps to executors.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the step |
| workload | [string](#string) |  | Name of the workload |
| executor | [string](#string) |  | Name of the executor |
| exporter | [string](#string) | optional | Name of the exporter |





 


<a name="stroppy-DriverConfig-DriverType"></a>

### DriverConfig.DriverType


| Name | Number | Description |
| ---- | ------ | ----------- |
| DRIVER_TYPE_UNSPECIFIED | 0 |  |
| DRIVER_TYPE_POSTGRES | 1 |  |



<a name="stroppy-LoggerConfig-LogLevel"></a>

### LoggerConfig.LogLevel


| Name | Number | Description |
| ---- | ------ | ----------- |
| LOG_LEVEL_DEBUG | 0 |  |
| LOG_LEVEL_INFO | 1 |  |
| LOG_LEVEL_WARN | 2 |  |
| LOG_LEVEL_ERROR | 3 |  |
| LOG_LEVEL_FATAL | 4 |  |



<a name="stroppy-LoggerConfig-LogMode"></a>

### LoggerConfig.LogMode


| Name | Number | Description |
| ---- | ------ | ----------- |
| LOG_MODE_DEVELOPMENT | 0 |  |
| LOG_MODE_PRODUCTION | 1 |  |


 

 

 



<a name="proto_stroppy_descriptor-proto"></a>
<p align="right"><a href="#top">Top</a></p>

## proto/stroppy/descriptor.proto



<a name="stroppy-BenchmarkDescriptor"></a>

### BenchmarkDescriptor
BenchmarkDescriptor defines a complete benchmark consisting of multiple
steps.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the benchmark |
| workloads | [WorkloadDescriptor](#stroppy-WorkloadDescriptor) | repeated | List of steps to execute in the benchmark |






<a name="stroppy-ColumnDescriptor"></a>

### ColumnDescriptor
ColumnDescriptor defines the structure of a database column.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the column |
| sql_type | [string](#string) |  | SQL data type of the column |
| nullable | [bool](#bool) | optional | Whether the column can be NULL |
| primary_key | [bool](#bool) | optional | Whether the column is part of the primary key. Multiple primary keys creates composite primary key. |
| unique | [bool](#bool) | optional | Whether the column has a UNIQUE constraint |
| constraint | [string](#string) | optional | SQL constraint definition for the column in free form |






<a name="stroppy-IndexDescriptor"></a>

### IndexDescriptor
IndexDescriptor defines the structure of a database index.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the index |
| columns | [string](#string) | repeated | List of column names that are part of this index |
| type | [string](#string) |  | Type of index (e.g., BTREE, HASH, etc.) |
| unique | [bool](#bool) |  | Whether this is a unique index |
| db_specific | [Value.Struct](#stroppy-Value-Struct) | optional | Database-specific index properties |






<a name="stroppy-InsertDescriptor"></a>

### InsertDescriptor
InsertDescription defines data to fill database.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the Insert query |
| table_name | [string](#string) |  | Which table to insert the values |
| method | [InsertMethod](#stroppy-InsertMethod) | optional | Allows to use a percise method of data insertion |
| params | [QueryParamDescriptor](#stroppy-QueryParamDescriptor) | repeated | Parameters used in the insert. Names threated as db columns names, regexp is ignored. |
| groups | [QueryParamGroup](#stroppy-QueryParamGroup) | repeated | Groups of the columns |






<a name="stroppy-QueryDescriptor"></a>

### QueryDescriptor
QueryDescriptor defines a database query with its parameters and execution
count.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the query |
| sql | [string](#string) |  | SQL query text |
| params | [QueryParamDescriptor](#stroppy-QueryParamDescriptor) | repeated | Parameters used in the query |
| groups | [QueryParamGroup](#stroppy-QueryParamGroup) | repeated | Groups of the parameters |
| db_specific | [Value.Struct](#stroppy-Value-Struct) | optional | Database-specific query properties |






<a name="stroppy-QueryParamDescriptor"></a>

### QueryParamDescriptor
QueryParamDescriptor defines a parameter that can be used in a query.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the parameter |
| replace_regex | [string](#string) | optional | Regular expression pattern to replace with the parameter value default is &#34;${&lt;param_name&gt;}&#34; |
| generation_rule | [Generation.Rule](#stroppy-Generation-Rule) |  | Rule for generating parameter values |
| db_specific | [Value.Struct](#stroppy-Value-Struct) | optional | Database-specific parameter properties |






<a name="stroppy-QueryParamGroup"></a>

### QueryParamGroup
QueryParamGroup defines a group of dependent parameters.
New values generated in Carthesian product manner.
It&#39;s useful to define composite primary keys.
Every evaluation step only one param changes.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Group name |
| params | [QueryParamDescriptor](#stroppy-QueryParamDescriptor) | repeated | Grouped dependent parameters |






<a name="stroppy-TableDescriptor"></a>

### TableDescriptor
TableDescriptor defines the structure of a database table.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the table |
| table_indexes | [IndexDescriptor](#stroppy-IndexDescriptor) | repeated | List of indexes defined on this table |
| constraint | [string](#string) | optional | Table-level constraints |
| db_specific | [Value.Struct](#stroppy-Value-Struct) | optional | Database-specific table properties |
| columns | [ColumnDescriptor](#stroppy-ColumnDescriptor) | repeated | Columns defined in this table |






<a name="stroppy-TransactionDescriptor"></a>

### TransactionDescriptor
TransactionDescriptor defines a database transaction with its queries and
execution count.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the transaction |
| isolation_level | [TxIsolationLevel](#stroppy-TxIsolationLevel) |  | Transaction isolation level |
| queries | [QueryDescriptor](#stroppy-QueryDescriptor) | repeated | List of queries to execute in this transaction |
| db_specific | [Value.Struct](#stroppy-Value-Struct) | optional | Database-specific transaction properties |






<a name="stroppy-UnitDescriptor"></a>

### UnitDescriptor
UnitDescriptor represents a single workload.
It can be a table creation operation, a query execution operation, or a
transaction execution operation.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| create_table | [TableDescriptor](#stroppy-TableDescriptor) |  | Table creation operation |
| insert | [InsertDescriptor](#stroppy-InsertDescriptor) |  | Data insertion operation |
| query | [QueryDescriptor](#stroppy-QueryDescriptor) |  | Query execution operation |
| transaction | [TransactionDescriptor](#stroppy-TransactionDescriptor) |  | Transaction execution operation |






<a name="stroppy-WorkloadDescriptor"></a>

### WorkloadDescriptor
WorkloadDescriptor represents a logical step in a benchmark.
It contains a list of operations to perform in this step.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the step |
| async | [bool](#bool) | optional | Whether to execute all operations in this workload asynchronously |
| units | [WorkloadUnitDescriptor](#stroppy-WorkloadUnitDescriptor) | repeated | List of operations to perform in this step |






<a name="stroppy-WorkloadUnitDescriptor"></a>

### WorkloadUnitDescriptor
WorkloadUnitDescriptor represents a single unit of work.
It can be a table creation operation, a query execution operation, or a
transaction execution operation.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| descriptor | [UnitDescriptor](#stroppy-UnitDescriptor) |  |  |
| count | [uint64](#uint64) |  | Number of times to execute this unit |





 


<a name="stroppy-InsertMethod"></a>

### InsertMethod
Data insertion method

| Name | Number | Description |
| ---- | ------ | ----------- |
| PLAIN_QUERY | 0 |  |
| COPY_FROM | 1 |  |



<a name="stroppy-TxIsolationLevel"></a>

### TxIsolationLevel
TransactionIsolationLevel defines the isolation level for a database
transaction.

| Name | Number | Description |
| ---- | ------ | ----------- |
| UNSPECIFIED | 0 |  |
| READ_UNCOMMITTED | 1 |  |
| READ_COMMITTED | 2 |  |
| REPEATABLE_READ | 3 |  |
| SERIALIZABLE | 4 |  |


 

 

 



<a name="proto_stroppy_k6-proto"></a>
<p align="right"><a href="#top">Top</a></p>

## proto/stroppy/k6.proto



<a name="stroppy-ConstantArrivalRate"></a>

### ConstantArrivalRate
ConstantArrivalRate executor configuration.
Documentation:
https://grafana.com/docs/k6/latest/using-k6/scenarios/executors/constant-arrival-rate/


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| rate | [uint32](#uint32) |  | Rate of iteration generation (number per time unit) |
| time_unit | [google.protobuf.Duration](#google-protobuf-Duration) |  | Time unit for the &#34;rate&#34; field (e.g., &#34;1s&#34;) |
| duration | [google.protobuf.Duration](#google-protobuf-Duration) |  | Duration of the scenario |
| pre_allocated_vus | [uint32](#uint32) |  | Number of VUs allocated in advance |
| max_vus | [uint32](#uint32) |  | Maximum allowed number of VUs if load increases |






<a name="stroppy-ConstantVUs"></a>

### ConstantVUs
ConstantVUs executor configuration.
Documentation:
https://grafana.com/docs/k6/latest/using-k6/scenarios/executors/constant-vus/


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| vus | [uint32](#uint32) |  | Fixed number of virtual users that will be simultaneously active at all times |
| duration | [google.protobuf.Duration](#google-protobuf-Duration) |  | Duration of the scenario execution. All VUs will start and execute iterations until this time is completed. |






<a name="stroppy-K6Options"></a>

### K6Options
K6Executor contains configuration for k6 load testing tool integration.
It contains paths to the k6 binary and the k6 test script, as well as
additional arguments to pass to the k6 binary.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| k6_args | [string](#string) | repeated | Additional arguments to pass to the k6 binary |
| setup_timeout | [google.protobuf.Duration](#google-protobuf-Duration) | optional | Timeout for k6 setup phase |
| scenario | [K6Scenario](#stroppy-K6Scenario) |  | Scenario configuration |






<a name="stroppy-K6Scenario"></a>

### K6Scenario
Scenario defines the overall test scenario configuration.
It contains user tags, maximum duration, and executor configuration.
Documentation: https://grafana.com/docs/k6/latest/using-k6/scenarios/


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| max_duration | [google.protobuf.Duration](#google-protobuf-Duration) |  | Maximum duration for scenario execution. Used as a time limiter if main parameters (iterations, stages, duration) do not complete in time. |
| shared_iterations | [SharedIterations](#stroppy-SharedIterations) |  | Shared iterations executor |
| per_vu_iterations | [PerVuIterations](#stroppy-PerVuIterations) |  | Per-VU iterations executor |
| constant_vus | [ConstantVUs](#stroppy-ConstantVUs) |  | Constant VUs executor |
| ramping_vus | [RampingVUs](#stroppy-RampingVUs) |  | Ramping VUs executor |
| constant_arrival_rate | [ConstantArrivalRate](#stroppy-ConstantArrivalRate) |  | Constant arrival rate executor |
| ramping_arrival_rate | [RampingArrivalRate](#stroppy-RampingArrivalRate) |  | Ramping arrival rate executor |






<a name="stroppy-PerVuIterations"></a>

### PerVuIterations
PerVuIterations executor configuration.
Documentation:
https://grafana.com/docs/k6/latest/using-k6/scenarios/executors/per-vu-iterations/


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| vus | [uint32](#uint32) |  | Number of virtual users |
| iterations | [int64](#int64) |  | Number of iterations that each VU should execute &#34;-1&#34; is a special value to run all the units from by every vu. |






<a name="stroppy-RampingArrivalRate"></a>

### RampingArrivalRate
RampingArrivalRate executor configuration.
Documentation:
https://grafana.com/docs/k6/latest/using-k6/scenarios/executors/ramping-arrival-rate/


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| start_rate | [uint32](#uint32) |  | Initial rate (iterations per time_unit) |
| time_unit | [google.protobuf.Duration](#google-protobuf-Duration) |  | Time unit for the rate (e.g., &#34;1s&#34;) |
| stages | [RampingArrivalRate.RateStage](#stroppy-RampingArrivalRate-RateStage) | repeated | List of rate change stages |
| pre_allocated_vus | [uint32](#uint32) |  | Number of VUs allocated in advance |
| max_vus | [uint32](#uint32) |  | Maximum number of VUs available for pool expansion |






<a name="stroppy-RampingArrivalRate-RateStage"></a>

### RampingArrivalRate.RateStage
Rate stage configuration for ramping arrival rate


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| target | [uint32](#uint32) |  | Target rate (iterations per time_unit) at the end of the stage |
| duration | [google.protobuf.Duration](#google-protobuf-Duration) |  | Duration of the stage |






<a name="stroppy-RampingVUs"></a>

### RampingVUs
RampingVUs executor configuration.
Documentation:
https://grafana.com/docs/k6/latest/using-k6/scenarios/executors/ramping-vus/


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| start_vus | [uint32](#uint32) |  | Initial number of virtual users |
| stages | [RampingVUs.VUStage](#stroppy-RampingVUs-VUStage) | repeated | List of stages where VU count changes to target value over specified time |
| pre_allocated_vus | [uint32](#uint32) |  | Number of VUs allocated in advance. Helps avoid delays when creating new VUs during the test. |
| max_vus | [uint32](#uint32) |  | Maximum number of VUs available for pool expansion |






<a name="stroppy-RampingVUs-VUStage"></a>

### RampingVUs.VUStage
VU stage configuration for ramping


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| duration | [google.protobuf.Duration](#google-protobuf-Duration) |  | Duration of the stage (e.g., &#34;30s&#34;) |
| target | [uint32](#uint32) |  | Target number of VUs at the end of the stage |






<a name="stroppy-SharedIterations"></a>

### SharedIterations
SharedIterations executor configuration.
Documentation:
https://grafana.com/docs/k6/latest/using-k6/scenarios/executors/shared-iterations/


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| iterations | [int64](#int64) |  | Total number of iterations to be executed by all VUs together. Iterations are distributed dynamically among available VUs. &#34;-1&#34; is a special value to run all the units from step. |
| vus | [uint32](#uint32) |  | Number of virtual users that will execute these iterations in parallel |





 

 

 

 



<a name="proto_stroppy_runtime-proto"></a>
<p align="right"><a href="#top">Top</a></p>

## proto/stroppy/runtime.proto



<a name="stroppy-DriverQuery"></a>

### DriverQuery
DriverQuery represents a query that can be executed by a database driver.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  | Name of the query |
| request | [string](#string) |  | Request of the query |
| params | [Value](#stroppy-Value) | repeated | Parameters of the query |
| method | [InsertMethod](#stroppy-InsertMethod) | optional | If alternate insertion method required |






<a name="stroppy-DriverQueryStat"></a>

### DriverQueryStat
DriverQueryStat represent an actual time spent on single query.
exec_duration includes the network round-trip and exection on dbms.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| name | [string](#string) |  |  |
| exec_duration | [google.protobuf.Duration](#google-protobuf-Duration) |  |  |






<a name="stroppy-DriverTransaction"></a>

### DriverTransaction
DriverTransaction represents a transaction that can be executed by a database
driver.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| queries | [DriverQuery](#stroppy-DriverQuery) | repeated | Queries of the transaction |
| isolation_level | [TxIsolationLevel](#stroppy-TxIsolationLevel) |  | Isolation level of the transaction |






<a name="stroppy-DriverTransactionStat"></a>

### DriverTransactionStat
DriverTransactionStat represents an actual time spent on transaction.
exec_duration includes the network round-trip and exection on dbms.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| queries | [DriverQueryStat](#stroppy-DriverQueryStat) | repeated |  |
| exec_duration | [google.protobuf.Duration](#google-protobuf-Duration) |  |  |
| isolation_level | [TxIsolationLevel](#stroppy-TxIsolationLevel) |  |  |






<a name="stroppy-StepContext"></a>

### StepContext
StepContext provides contextual information to a benchmark step during
execution. It contains the run context and the step descriptor.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| config | [GlobalConfig](#stroppy-GlobalConfig) |  | Global configuration of the benchmark and its steps |
| step | [Step](#stroppy-Step) |  | Current step |
| executor | [ExecutorConfig](#stroppy-ExecutorConfig) |  | Executor configuration |
| exporter | [ExporterConfig](#stroppy-ExporterConfig) | optional | Exporter configuration |
| workload | [WorkloadDescriptor](#stroppy-WorkloadDescriptor) |  | Current workload descriptor |






<a name="stroppy-UnitContext"></a>

### UnitContext
UnitBuildContext provides the context needed to build a unit from a
WorkloadUnitDescriptor.


| Field | Type | Label | Description |
| ----- | ---- | ----- | ----------- |
| step_context | [StepContext](#stroppy-StepContext) |  | Step context |
| unit_descriptor | [WorkloadUnitDescriptor](#stroppy-WorkloadUnitDescriptor) |  | Current unit descriptor |





 

 

 

 



<a name="proto_stroppy_sidecar-proto"></a>
<p align="right"><a href="#top">Top</a></p>

## proto/stroppy/sidecar.proto


 

 

 


<a name="stroppy-SidecarService"></a>

### SidecarService
SidecarPlugin defines the gRPC service that sidecar plugins must implement.

| Method Name | Request Type | Response Type | Description |
| ----------- | ------------ | ------------- | ------------|
| Initialize | [GlobalConfig](#stroppy-GlobalConfig) | [.google.protobuf.Empty](#google-protobuf-Empty) | Initialize is called once before the benchmark starts. Used to initialize resources of SidecarPlugin. |
| OnStepStart | [StepContext](#stroppy-StepContext) | [.google.protobuf.Empty](#google-protobuf-Empty) | OnStepStart is called once before each step starts. |
| OnStepEnd | [StepContext](#stroppy-StepContext) | [.google.protobuf.Empty](#google-protobuf-Empty) | OnStepEnd is called once after each step ends. |
| Teardown | [GlobalConfig](#stroppy-GlobalConfig) | [.google.protobuf.Empty](#google-protobuf-Empty) | Teardown is called once after the benchmark ends. Used to clean up resources. |

 



## Scalar Value Types

| .proto Type | Notes | C++ | Java | Python | Go | C# | PHP | Ruby |
| ----------- | ----- | --- | ---- | ------ | -- | -- | --- | ---- |
| <a name="double" /> double |  | double | double | float | float64 | double | float | Float |
| <a name="float" /> float |  | float | float | float | float32 | float | float | Float |
| <a name="int32" /> int32 | Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint32 instead. | int32 | int | int | int32 | int | integer | Bignum or Fixnum (as required) |
| <a name="int64" /> int64 | Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint64 instead. | int64 | long | int/long | int64 | long | integer/string | Bignum |
| <a name="uint32" /> uint32 | Uses variable-length encoding. | uint32 | int | int/long | uint32 | uint | integer | Bignum or Fixnum (as required) |
| <a name="uint64" /> uint64 | Uses variable-length encoding. | uint64 | long | int/long | uint64 | ulong | integer/string | Bignum or Fixnum (as required) |
| <a name="sint32" /> sint32 | Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int32s. | int32 | int | int | int32 | int | integer | Bignum or Fixnum (as required) |
| <a name="sint64" /> sint64 | Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int64s. | int64 | long | int/long | int64 | long | integer/string | Bignum |
| <a name="fixed32" /> fixed32 | Always four bytes. More efficient than uint32 if values are often greater than 2^28. | uint32 | int | int | uint32 | uint | integer | Bignum or Fixnum (as required) |
| <a name="fixed64" /> fixed64 | Always eight bytes. More efficient than uint64 if values are often greater than 2^56. | uint64 | long | int/long | uint64 | ulong | integer/string | Bignum |
| <a name="sfixed32" /> sfixed32 | Always four bytes. | int32 | int | int | int32 | int | integer | Bignum or Fixnum (as required) |
| <a name="sfixed64" /> sfixed64 | Always eight bytes. | int64 | long | int/long | int64 | long | integer/string | Bignum |
| <a name="bool" /> bool |  | bool | boolean | boolean | bool | bool | boolean | TrueClass/FalseClass |
| <a name="string" /> string | A string must always contain UTF-8 encoded or 7-bit ASCII text. | string | String | str/unicode | string | string | string | String (UTF-8) |
| <a name="bytes" /> bytes | May contain any arbitrary sequence of bytes. | string | ByteString | str | []byte | ByteString | string | String (ASCII-8BIT) |

